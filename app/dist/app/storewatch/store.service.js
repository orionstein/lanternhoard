System.register(["angular2/core","angular2/http","rxjs/Observable"],function(t,e){"use strict";var r,n,a,i,o=(e&&e.id,this&&this.__decorate||function(t,e,r,n){var a,i=arguments.length,o=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}),s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};return{setters:[function(t){r=t},function(t){n=t},function(t){a=t}],execute:function(){i=function(){function t(t){this.http=t,this.dataUrl="https://v3q0i4ynpb.execute-api.us-east-1.amazonaws.com/dev/kdStoreGetItems",this.pageUrl="https://v3q0i4ynpb.execute-api.us-east-1.amazonaws.com/dev/kdStorePageItems",this.apiUrl="https://v3q0i4ynpb.execute-api.us-east-1.amazonaws.com/dev/kdStoreSubscribe"}return t.prototype.loadMoreEntries=function(){var t=this.pageUrl+"/backward/"+this.lastItem.date+"/11",e=this.http.get(t).map(function(t){return t.json()});return e},t.prototype.getStoreEntry=function(){var t=this.http.get(this.dataUrl+"/11").map(function(t){return t.json()});return t},t.prototype.startPolling=function(t){var e=this,r=a.Observable.interval(6e4).switchMap(function(){var t=e.pageUrl+"/forward/"+e.firstItem.date+"/11";return e.http.get(t)}).map(function(t){return t.json()});return r},t.prototype.submitMobile=function(t){var e=new n.Headers({"Content-Type":"application/json"}),r=new n.RequestOptions({headers:e}),a=JSON.stringify({number:t}),i=this.http.put(this.apiUrl,a,r);return i},t=o([r.Injectable(),s("design:paramtypes",[n.Http])],t)}(),t("StoreService",i)}}});